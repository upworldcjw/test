理清ijkplayer 的一些工作原理：
1，ijk工作的时候会首先启动一个线程调用media_player_msg_loop不停地读取ijk内部抛出的消息（AVMessage类型消息，ijk实现了一个高效的消息队列及消息重用机制。）
调用stream_open函数，stream_open 会创建一个刷新界面的线程，来将后面获取的数据加载到openGl试图上，也就是客户端看到的视频。在这些工作准备好之后，紧接着会根据url资源调用read_thread读取网络或者本地资源。如果加载的是网络资源调用 avformat_open_input的时候会促发网络请求。ijk网络请求用的是系统底层Socket。调用socket会阻塞read_thread所在线程，（这里网络的好坏直接影响视频打开的速度）因为ffmpeg需要读取数据，来初始化AVFormatContetxt。AVFormatContetxt是一个特大的音视频上下文环境，里面存储了音视频相关的基本数据。根据里面的数据类型获取音视频编码信息。然后根据编码信息启动音频解码线程audio_thread和视频解码线程video_thread。当获取的音视频数据的时候，音频和视频分别解码，音频解码数据仍给AudioQueue播放，视频解码数据AVFrame 生成 SDL_VoutOverlay_Opaque对应的数据，由AVout渲染到openGl上，至此整个解码逻辑完成。